
<extend name="Common/form-ajax" />
<block name='form'>
         <tr>
            <td class="fr_marg">用户名：</td>
            <td><input type='text' name="" value="{$list.realname}" readonly class='text'/></td>
        </tr>
        <tr>
            <td style="text-align:left">登录密码：</td>
            <td><input type='text' name='password' id="fe_text" class='text'  value=""/>
                <input type='button' class='search_button1' value='随机密码' onclick="randPassword();"/> 
	     		<input type='button' class='search_button1' id='copy' value='复制密码' data-clipboard-target="fe_text"> 
            </td>
        </tr>
        <tr>
            <th></th>
            <td> <input type="submit" data-url="{:U('edit')}" class="btn-big btn-blue" value="修改"></td>
        </tr>
<script type="text/javascript" src="/Public/Vendor/zeroclipboard/ZeroClipboard.js"></script>

<script type="text/javascript">

	function randPassword() { 
		var text=['abcdefghijklmnopqrstuvwxyz','ABCDEFGHIJKLMNOPQRSTUVWXYZ','1234567890']; 
		var rand = function(min, max){return Math.floor(Math.max(min, Math.random() * (max+1)));} 
		var len = 10; // 长度为8-16 
		var pw = ''; 
		for(i=0; i<len; ++i) 
		{ 
		var strpos = rand(0, 2); 
		pw += text[strpos].charAt(rand(0, text[strpos].length)); 
		} 
		$('input[name="password"]').val(pw);
	} 
	

	

	var clip = new ZeroClipboard( document.getElementById("copy"), {
		  moviePath: "/Public/Vendor/zeroclipboard/ZeroClipboard.swf"
		} );
	
	// 复制内容到剪贴板成功后的操作
	clip.on( 'complete', function(client, args) {
		layer.tips('复制成功:'+args.text, $('#copy'), {
		    tips: [1, '#3595CC'],
		    time: 4000
		})
	} );
	
function subFun(status,data,info){
	  if(status == 1){
		 UsubFun(true,info,function(){ document.location="{:U('index')}"; },"返回列表")
	  }
	}

</script>
</block>

